TUTORIAL BASICO:

-Superscalar x Escalar 
Superscalar sao processadores que tem mais de 1 pipeline, escalar tem apenas 1 pipeline

Pipeline exemplo para 5 estágios: IF-(A)-ID-(B)-EX-(C)-MEM-(D)-WB

1)Instruction fetch
2)Instruction decode & register read
3)Execute operation 
4)Access memory operand
5)Write back

Pipeline registers:hold information produced in previous cycle
A) IF/ID
B) ID/EX
C) EX/MEM
D) MEM/WB


-Hazards:conceitos

  a) Dados: Uma instrução precisa de um resultado que ainda não foi completamente calculado. ex:
  add t1, t2, t3
  add t5, t1, t4
  O mecanismo para contornar isso é forwarding; 
  Mandar o resultado da ALU assim que for computado através de conexões usando os pipeline registers
  
  b) Estrutural: Acesso a memória leva mais de 1 ciclo (dado não está no registrador ainda) e atrasa o pipeline.
  Mecanismo para contornar isso: caches
  
  c) Controle: Um branch é executado e todo o progresso do pipeline deve ser descartado
  Mecanismo: branch prediction
  
  ##################################################################
  ###IMPORTANTE :: O PROFESSOR PEDE PARA POR ISSO NO RELATORIO
  ###identifiquem e listem todos os hazards a serem avaliados. Incluam uma descrição das condições em que cada hazard acontece
  #####################################################################
 -Lista de todos os hazards
  
  a)O número de bolhas depende da distância entre as intruções e da quantidade de estágios entre o ponto em que o dado é
  calculado e o ponto em que ele é requisitado.(???)
  
  	*R-type instructions: não há bolhas, usa-se forwarding
	*Load-Store L-type instructions: atraso de 1 bolha <=> L-type instruction e em seguinda uma instrução que usa registrador de destino da linha anterior
  		ex.: 	lw **$s0**, 20($t1)
  			sub $t2,**$so**,$t3
  
  ##EDITAR POR FAVOR DAQUI PARA BAIXO:
  b)O número de bolhas depende dos cache misses.

  c)O número de bolhas depende do estágio em que o branch é tomado.
  
Branch Prediction:

add $4, $5 ,$6
beq $1,$2,40
lw $3,300($0)

## linha 40 = or $7,$8,$9

- Prediction correct --> 0 bolhas

- Prediction incorrect --> N bolhas

Se não usar o branch prediction --> X bolhas 

	--------------------------------------

Static branch prediction:

	a) se for branch para alguma linha atras 
		=> branch taken
	b) se for branch para alguma linha pra frente
		=> branch not taken

Dynamic Branch prediction:

- Máquina de estados:

	https://www.cs.umd.edu/class/fall2013/cmsc411-0201/lectures/lec09.pdf
	
	
	Cáluclo da CPI:
	
